<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Biblioteca Literaria - Autor</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* === RESET / BASE === */
* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
body {
  background: #0a1a2e;
  color: #fff;
  min-height: 100vh;
  overflow-x: hidden;
  padding-bottom: 40px;
}

/* === LOADING INDICATOR === */
.loading {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #061120;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  transition: opacity 0.5s ease-out;
}
.loading.hidden { opacity: 0; pointer-events: none; }
.spinner {
  width: 50px;
  height: 50px;
  border: 5px solid rgba(241, 196, 15, 0.2);
  border-radius: 50%;
  border-top-color: #f1c40f;
  animation: spin 1s linear infinite;
  margin-bottom: 20px;
}
@keyframes spin { to { transform: rotate(360deg); } }
.loading-text { color: #f1c40f; font-size: 1.2rem; }

/* === HEADER === */
.header {
  text-align: center;
  padding: 40px 20px;
  background: linear-gradient(135deg, #1e3c72, #2a5298);
}
.header h1 {
  font-size: 2.5rem;
  color: #f1c40f;
  margin-bottom: 10px;
}
.header p {
  font-size: 1rem;
  color: #ddd;
}

/* === BIO === */
.bio {
  max-width: 900px;
  margin: 40px auto;
  padding: 20px;
  background: rgba(255,255,255,0.05);
  border-radius: 12px;
  text-align: center;
}
.bio h2 { color: #f1c40f; margin-bottom: 10px; }
.bio p { line-height: 1.6; color: #ccc; }

/* === GRID LIBROS === */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 20px;
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
}
.book-card {
  background: #132a4a;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.book-card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(0,0,0,0.4); }
.book-card img { width: 100%; display: block; height: 250px; object-fit: cover; }
.book-card .info { padding: 10px; }
.book-card h3 { font-size: 1rem; margin-bottom: 5px; color: #f1c40f; }
.book-card p { font-size: 0.85rem; color: #aaa; }

/* === MODAL === */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 10000;
}
.modal.show { display: flex; }
.modal-container {
  background: #0f2138;
  border-radius: 10px;
  max-width: 800px;
  width: 90%;
  padding: 20px;
}
.modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.modal-title { font-size: 1.5rem; color: #f1c40f; }
.close { background: none; border: none; font-size: 1.5rem; color: #fff; cursor: pointer; }
.modal-content { display: flex; gap: 20px; flex-wrap: wrap; }
.modal-left { flex: 1 1 250px; }
.modal-left img { width: 100%; border-radius: 10px; }
.modal-details { margin-top: 10px; }
.modal-right { flex: 2 1 400px; }
.modal-subtitle { font-size: 1.1rem; color: #ddd; margin-bottom: 10px; }
.modal-right p { color: #ccc; line-height: 1.5; }

/* === RATING ESTRELLAS === */
.stars { display: flex; gap: 2px; }
.star { font-size: 1.2rem; color: #444; position: relative; }
.star.full { color: #f1c40f; }
.star.half::before {
  content: "\\f005";
  font-family: "Font Awesome 6 Free";
  font-weight: 900;
  color: #f1c40f;
  position: absolute;
  left: 0;
  width: 50%;
  overflow: hidden;
}
</style>
</head>
<body>

<!-- LOADING SCREEN -->
<div class="loading" id="loading">
  <div class="spinner"></div>
  <div class="loading-text">Cargando biblioteca...</div>
</div>

<!-- HEADER -->
<header class="header">
  <h1>Biblioteca Literaria</h1>
  <p>Explora las obras destacadas de nuestro autor</p>
</header>

<!-- BIO -->
<section class="bio">
  <h2>Sobre el Autor</h2>
  <p>Una selección de libros emblemáticos de la literatura universal. Haz clic en cada portada para ver más detalles.</p>
</section>

<!-- GRID LIBROS -->
<section class="grid" id="bookGrid"></section>

<!-- MODAL -->
<div id="bookModal" class="modal" aria-hidden="true">
  <div class="modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-header">
      <h2 class="modal-title" id="modal-title">Título del libro</h2>
      <button class="close" aria-label="Cerrar modal" onclick="closeBookModal()">&times;</button>
    </div>
    <div class="modal-content">
      <div class="modal-left">
        <img id="modal-cover" src="" alt="Portada libro" loading="lazy">
        <div class="modal-details">
          <div class="modal-rating" id="modal-rating"></div>
        </div>
      </div>
      <div class="modal-right">
        <h4 class="modal-subtitle" id="modal-subtitle">Subtítulo / Autor</h4>
        <p id="modal-description"></p>
      </div>
    </div>
  </div>
</div>

<script>
// Lista de libros
const libros = [
  { title: "Cien años de soledad", subtitle: "Gabriel García Márquez", description: "La obra maestra del realismo mágico.", cover: "https://covers.openlibrary.org/b/id/8379256-L.jpg", rating: 4.8 },
  { title: "1984", subtitle: "George Orwell", description: "Una distopía sobre un régimen totalitario.", cover: "https://covers.openlibrary.org/b/id/7222246-L.jpg", rating: 4.6 },
  { title: "El Principito", subtitle: "Antoine de Saint-Exupéry", description: "Un cuento filosófico sobre la amistad y la vida.", cover: "https://covers.openlibrary.org/b/id/10909258-L.jpg", rating: 4.9 },
  { title: "Don Quijote de la Mancha", subtitle: "Miguel de Cervantes", description: "La novela más importante de la literatura española.", cover: "https://covers.openlibrary.org/b/id/8231856-L.jpg", rating: 4.7 },
  { title: "Crimen y castigo", subtitle: "Fiódor Dostoyevski", description: "Un profundo análisis psicológico de la culpa.", cover: "https://covers.openlibrary.org/b/id/11153272-L.jpg", rating: 4.5 },
  { title: "Orgullo y prejuicio", subtitle: "Jane Austen", description: "Una historia de amor e ironía social.", cover: "https://covers.openlibrary.org/b/id/11158920-L.jpg", rating: 4.4 },
  { title: "La Odisea", subtitle: "Homero", description: "La épica travesía de Ulises de regreso a Ítaca.", cover: "https://covers.openlibrary.org/b/id/10434279-L.jpg", rating: 4.3 },
  { title: "Fahrenheit 451", subtitle: "Ray Bradbury", description: "Una sociedad donde los libros están prohibidos.", cover: "https://covers.openlibrary.org/b/id/9259256-L.jpg", rating: 4.2 },
  { title: "Moby Dick", subtitle: "Herman Melville", description: "La obsesiva caza de la gran ballena blanca.", cover: "https://covers.openlibrary.org/b/id/7222241-L.jpg", rating: 4.0 },
  { title: "Hamlet", subtitle: "William Shakespeare", description: "La tragedia del príncipe danés.", cover: "https://covers.openlibrary.org/b/id/8228691-L.jpg", rating: 4.6 }
];

// Pintar grid
const grid = document.getElementById("bookGrid");
libros.forEach(libro => {
  const card = document.createElement("div");
  card.className = "book-card";
  card.innerHTML = `
    <img src=\"${libro.cover}\" alt=\"${libro.title}\" loading=\"lazy\">
    <div class=\"info\">
      <h3>${libro.title}</h3>
      <p>${libro.subtitle}</p>
    </div>
  `;
  card.onclick = () => openBookModal(libro);
  grid.appendChild(card);
});

// Función para estrellas
function renderStars(rating) {
  const starsContainer = document.createElement('div');
  starsContainer.classList.add('stars');
  const fullStars = Math.floor(rating);
  const hasHalf = rating % 1 >= 0.5;
  const emptyStars = 5 - fullStars - (hasHalf ? 1 : 0);

  for (let i = 0; i < fullStars; i++) {
    const star = document.createElement('i');
    star.className = 'fa-solid fa-star star full';
    starsContainer.appendChild(star);
  }
  if (hasHalf) {
    const star = document.createElement('i');
    star.className = 'fa-regular fa-star star half';
    starsContainer.appendChild(star);
  }
  for (let i = 0; i < emptyStars; i++) {
    const star = document.createElement('i');
    star.className = 'fa-regular fa-star star';
    starsContainer.appendChild(star);
  }
  return starsContainer;
}

// Modal funciones
const modal = document.getElementById('bookModal');
const modalTitle = document.getElementById('modal-title');
const modalSubtitle = document.getElementById('modal-subtitle');
const modalDescription = document.getElementById('modal-description');
const modalCover = document.getElementById('modal-cover');
const modalRating = document.getElementById('modal-rating');

function openBookModal(libro) {
  modalTitle.textContent = libro.title;
  modalSubtitle.textContent = libro.subtitle;
  modalDescription.textContent = libro.description;
  modalCover.src = libro.cover;
  modalRating.innerHTML = '';
  modalRating.appendChild(renderStars(libro.rating));
  modal.classList.add('show');
}

function closeBookModal() {
  modal.classList.remove('show');
}

// Preloader
window.addEventListener('load', () => {
  document.getElementById('loading').classList.add('hidden');
});
</script>
</body>
</html>
