<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Biblioteca Literaria - Links Ready</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',sans-serif;}
body{background:#111;color:#fff;min-height:100vh;overflow-x:hidden;}
header{text-align:center;padding:20px;}
header h1{color:#f1c40f;font-size:2.5rem;margin-bottom:5px;}
header p{opacity:0.8;}
.search-section{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:30px;}
.search-section input,.search-section select,.search-section button{padding:10px;border-radius:5px;border:none;outline:none;font-size:14px;}
.search-section input{width:200px;}
.search-section button{background:#f1c40f;color:#111;font-weight:bold;cursor:pointer;}
.genre-row{margin-bottom:50px;}
.genre-header {display:flex;justify-content:space-between;align-items:center;margin:0 20px 10px 20px;}
.genre-header h2{font-size:1.5rem;}
.ver-todo {color:#f1c40f;font-weight:bold;text-decoration:none;}
.ver-todo:hover{text-decoration:underline;}
.books-row{display:flex;overflow-x:auto;overflow-y:hidden;gap:15px;padding:20px;scroll-behavior:smooth;height:auto;}
.books-row::-webkit-scrollbar{height:8px;}
.books-row::-webkit-scrollbar-thumb{background:#f1c40f;border-radius:4px;}
.books-row::-webkit-scrollbar-track{background:#222;}
.card{flex:0 0 auto;width:180px;height:270px;border-radius:10px;overflow:hidden;position:relative;cursor:pointer;transition:transform 0.3s;display:block;text-decoration:none;color:inherit;}
.card img{width:100%;height:100%;object-fit:cover;display:block;position:relative;z-index:1;}
.card:hover{transform:scale(1.05);}
.overlay{position:absolute;bottom:0;left:0;width:100%;height:100%;background: rgba(0,0,0,0.5);color:#fff;padding:10px;display:flex;flex-direction:column;justify-content:flex-end;z-index:2;}
.overlay h3, .overlay small, .overlay p{margin:0;}
@media(max-width:768px){.card{width:140px;height:210px;}}
</style>
</head>
<body>

<header>
  <h1>ðŸ“š Biblioteca Literaria</h1>
  <p>Portadas completas con overlay e info visible</p>
</header>

<div class="search-section">
  <input type="text" id="searchInput" placeholder="Buscar tÃ­tulo o autor...">
  <select id="authorSelect"><option value="all">Todos los autores</option></select>
  <select id="genreSelect"><option value="all">Todas las categorÃ­as</option></select>
  <button id="searchBtn">Buscar</button>
</div>

<div id="library"></div>

<script>
const libros = [];
const portadaComun = "https://images-na.ssl-images-amazon.com/images/I/81VStYnDGrL.jpg";
const categorias = ["Realismo MÃ¡gico", "Novela", "DistopÃ­a", "FantasÃ­a"];

// Generar libros con URL
categorias.forEach(cat=>{
  for(let i=1;i<=10;i++){
    libros.push({
      titulo: `${cat} Libro ${i}`,
      autor: `Autor ${i}`,
      genero: cat,
      aÃ±o: 2000+i,
      portada: portadaComun,
      url: `https://tulibro${i}.com`
    });
  }
});

const libraryContainer = document.getElementById('library');
const searchInput = document.getElementById('searchInput');
const searchBtn = document.getElementById('searchBtn');
const authorSelect = document.getElementById('authorSelect');
const genreSelect = document.getElementById('genreSelect');

function populateFilters() {
  const authors = [...new Set(libros.map(l=>l.autor))];
  authors.forEach(a=>{
    const o=document.createElement('option');
    o.value=a;
    o.textContent=a;
    authorSelect.appendChild(o);
  });
  const genres = [...new Set(libros.map(l=>l.genero))];
  genres.forEach(g=>{
    const o=document.createElement('option');
    o.value=g;
    o.textContent=g;
    genreSelect.appendChild(o);
  });
}

function renderLibrary(filtered=libros){
  libraryContainer.innerHTML='';
  const genres = [...new Set(filtered.map(l=>l.genero))];
  genres.forEach(genre=>{
    const rowDiv = document.createElement('div'); rowDiv.className='genre-row';

    // Header con tÃ­tulo y Ver todo
    const headerDiv = document.createElement('div'); headerDiv.className='genre-header';
    const title = document.createElement('h2'); title.textContent=genre;
    const verTodo = document.createElement('a');
    verTodo.href = `https://categoria-${genre.replace(/\s+/g,'').toLowerCase()}.com`;
    verTodo.target = "_blank";
    verTodo.className = "ver-todo";
    verTodo.textContent = "Ver todo â†’";
    headerDiv.appendChild(title);
    headerDiv.appendChild(verTodo);
    rowDiv.appendChild(headerDiv);

    // Carrusel de libros
    const booksRow = document.createElement('div'); booksRow.className='books-row';
    const booksOfGenre = filtered.filter(l=>l.genero===genre);
    booksOfGenre.forEach(libro=>{
      const cardLink = document.createElement('a');
      cardLink.href = libro.url;
      cardLink.target = "_blank";
      cardLink.className = "card";
      cardLink.innerHTML = `
        <img src="${libro.portada}" alt="${libro.titulo}">
        <div class="overlay">
          <h3>${libro.titulo}</h3>
          <small>${libro.autor} - ${libro.aÃ±o}</small>
          <p>${libro.genero}</p>
        </div>`;
      booksRow.appendChild(cardLink);
    });

    rowDiv.appendChild(booksRow);
    libraryContainer.appendChild(rowDiv);
  });
}

function filterLibrary(){
  const term=searchInput.value.toLowerCase();
  const author=authorSelect.value;
  const genre=genreSelect.value;
  const filtered=libros.filter(l=>{
    const matchesTerm=l.titulo.toLowerCase().includes(term)||l.autor.toLowerCase().includes(term);
    const matchesAuthor=author==='all'||l.autor===author;
    const matchesGenre=genre==='all'||l.genero===genre;
    return matchesTerm && matchesAuthor && matchesGenre;
  });
  renderLibrary(filtered);
}

searchInput.addEventListener('input', filterLibrary);
searchBtn.addEventListener('click', filterLibrary);
authorSelect.addEventListener('change', filterLibrary);
genreSelect.addEventListener('change', filterLibrary);

populateFilters();
renderLibrary();
</script>

</body>
</html>
