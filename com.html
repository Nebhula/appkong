<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Biblioteca Virtual Estilo Netflix - Profesional</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  *{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
  body{background:#111;color:#fff;min-height:100vh;}
  header{text-align:center;padding:20px;}
  header h1{color:#f1c40f;font-size:2.5rem;margin-bottom:5px;}
  header p{opacity:0.8;}
  .search-section{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:30px;}
  .search-section input,.search-section select,.search-section button{padding:10px;border-radius:5px;border:none;outline:none;font-size:14px;}
  .search-section input{width:200px;}
  .search-section button{background:#f1c40f;color:#111;font-weight:bold;cursor:pointer;}
  .genre-row{margin-bottom:50px;}
  .genre-row h2{margin-left:20px;margin-bottom:10px;font-size:1.5rem;}
  .books-row{display:flex;overflow-x:auto;gap:15px;padding-left:20px;scroll-behavior:smooth;}
  .books-row::-webkit-scrollbar{height:8px;}
  .books-row::-webkit-scrollbar-thumb{background:#f1c40f;border-radius:4px;}
  .card{flex:0 0 auto;width:180px;background:#222;border-radius:10px;overflow:hidden;transition:transform 0.3s;cursor:pointer;position:relative;}
  .card img{width:100%;height:270px;object-fit:cover;transition:transform 0.3s;}
  .card-body{padding:10px;position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,0.8);transform:translateY(100%);transition:transform 0.3s;}
  .card-body h3{font-size:16px;margin-bottom:3px;}
  .card-body small{font-size:12px;color:#f1c40f;}
  .card-body p{font-size:12px;margin-top:5px;color:#ccc;}
  .card:hover{transform:scale(1.1);}
  .card:hover img{transform: scale(1.05);}
  .card:hover .card-body{transform:translateY(0);}
  .see-more-btn{background:#f1c40f;color:#111;border:none;border-radius:5px;padding:5px 10px;margin-left:20px;cursor:pointer;font-weight:bold;margin-top:10px;}
  @media(max-width:768px){.card{width:140px;}.card img{height:210px;}}
</style>
</head>
<body>

<header>
  <h1>游닄 Biblioteca Virtual Profesional</h1>
  <p>Scroll infinito, miniaturas animadas y filtrado avanzado</p>
</header>

<div class="search-section">
  <input type="text" id="searchInput" placeholder="Buscar t칤tulo o autor...">
  <select id="authorSelect"><option value="all">Todos los autores</option></select>
  <select id="genreSelect"><option value="all">Todos los g칠neros</option></select>
  <button id="searchBtn"><i class="fas fa-search"></i> Buscar</button>
</div>

<div id="library"></div>

<script>
const libros = [
  {titulo:"Cien a침os de soledad", autor:"Gabriel Garc칤a M치rquez", genero:"Realismo m치gico", a침o:1967, portada:"https://images-na.ssl-images-amazon.com/images/I/81VStYnDGrL.jpg"},
  {titulo:"El oto침o del patriarca", autor:"Gabriel Garc칤a M치rquez", genero:"Realismo m치gico", a침o:1975, portada:"https://images-na.ssl-images-amazon.com/images/I/71VFGyx3RML.jpg"},
  {titulo:"Cr칩nica de una muerte anunciada", autor:"Gabriel Garc칤a M치rquez", genero:"Realismo m치gico", a침o:1981, portada:"https://images-na.ssl-images-amazon.com/images/I/91l+g2vBylL.jpg"},
  {titulo:"Don Quijote de la Mancha", autor:"Miguel de Cervantes", genero:"Novela", a침o:1605, portada:"https://images-na.ssl-images-amazon.com/images/I/81MqR+L-tpL.jpg"},
  {titulo:"La Galatea", autor:"Miguel de Cervantes", genero:"Novela", a침o:1585, portada:"https://images-na.ssl-images-amazon.com/images/I/81lw6mH4JGL.jpg"},
  {titulo:"El Principito", autor:"Antoine de Saint-Exup칠ry", genero:"F치bula", a침o:1943, portada:"https://images-na.ssl-images-amazon.com/images/I/91b0C2YNSrL.jpg"},
  {titulo:"1984", autor:"George Orwell", genero:"Distop칤a", a침o:1949, portada:"https://images-na.ssl-images-amazon.com/images/I/71kxa1-0mfL.jpg"},
  {titulo:"Rebeli칩n en la granja", autor:"George Orwell", genero:"Distop칤a", a침o:1945, portada:"https://images-na.ssl-images-amazon.com/images/I/71k9CbNZPsL.jpg"},
  {titulo:"Fahrenheit 451", autor:"Ray Bradbury", genero:"Distop칤a", a침o:1953, portada:"https://images-na.ssl-images-amazon.com/images/I/81vpsIs58WL.jpg"},
  {titulo:"Moby Dick", autor:"Herman Melville", genero:"Aventura", a침o:1851, portada:"https://images-na.ssl-images-amazon.com/images/I/81VtY2aI0kL.jpg"},
  {titulo:"La isla del tesoro", autor:"Robert Louis Stevenson", genero:"Aventura", a침o:1883, portada:"https://images-na.ssl-images-amazon.com/images/I/71uV0YuqKPL.jpg"},
  {titulo:"La sombra del viento", autor:"Carlos Ruiz Zaf칩n", genero:"Misterio", a침o:2001, portada:"https://images-na.ssl-images-amazon.com/images/I/81c7MyyFJML.jpg"},
  {titulo:"El juego del 치ngel", autor:"Carlos Ruiz Zaf칩n", genero:"Misterio", a침o:2008, portada:"https://images-na.ssl-images-amazon.com/images/I/91R3WggE8NL.jpg"},
  {titulo:"Crimen y castigo", autor:"Fi칩dor Dostoyevski", genero:"Novela", a침o:1866, portada:"https://images-na.ssl-images-amazon.com/images/I/81qRhwTsb+L.jpg"},
  {titulo:"Los hermanos Karamazov", autor:"Fi칩dor Dostoyevski", genero:"Novela", a침o:1880, portada:"https://images-na.ssl-images-amazon.com/images/I/81EztBBHqWL.jpg"}
];

const libraryContainer = document.getElementById('library');
const searchInput = document.getElementById('searchInput');
const searchBtn = document.getElementById('searchBtn');
const authorSelect = document.getElementById('authorSelect');
const genreSelect = document.getElementById('genreSelect');

function populateFilters() {
  const authors = [...new Set(libros.map(l=>l.autor))];
  authors.forEach(a=>{const o=document.createElement('option'); o.value=a;o.textContent=a;authorSelect.appendChild(o);});
  const genres = [...new Set(libros.map(l=>l.genero))];
  genres.forEach(g=>{const o=document.createElement('option'); o.value=g;o.textContent=g;genreSelect.appendChild(o);});
}

function renderLibrary(filtered=libros){
  libraryContainer.innerHTML='';
  const genres = [...new Set(filtered.map(l=>l.genero))];
  genres.forEach(genre=>{
    const rowDiv = document.createElement('div'); rowDiv.className='genre-row';
    const title = document.createElement('h2'); title.textContent=genre;
    rowDiv.appendChild(title);
    const booksRow = document.createElement('div'); booksRow.className='books-row';
    const booksOfGenre = filtered.filter(l=>l.genero===genre);
    booksOfGenre.forEach(libro=>{
      const card = document.createElement('div'); card.className='card';
      card.innerHTML = `<img src="${libro.portada}" alt="${libro.titulo}">
        <div class="card-body">
          <h3>${libro.titulo}</h3>
          <small>${libro.autor} - ${libro.a침o}</small>
          <p>${libro.genero}</p>
        </div>`;
      booksRow.appendChild(card);
    });

    // Scroll infinito simulado al final del carrusel
    booksRow.addEventListener('scroll', ()=>{
      if(booksRow.scrollLeft + booksRow.clientWidth >= booksRow.scrollWidth - 5){
        // Duplicar libros para efecto infinito
        booksOfGenre.forEach(libro=>{
          const card = document.createElement('div'); card.className='card';
          card.innerHTML = `<img src="${libro.portada}" alt="${libro.titulo}">
            <div class="card-body">
              <h3>${libro.titulo}</h3>
              <small>${libro.autor} - ${libro.a침o}</small>
              <p>${libro.genero}</p>
            </div>`;
          booksRow.appendChild(card);
        });
      }
    });

    rowDiv.appendChild(booksRow);
    libraryContainer.appendChild(rowDiv);
  });
}

function filterLibrary(){
  const term = searchInput.value.toLowerCase();
  const author = authorSelect.value;
  const genre = genreSelect.value;
  const filtered = libros.filter(l=>{
    const matchesTerm = l.titulo.toLowerCase().includes(term) || l.autor.toLowerCase().includes(term);
    const matchesAuthor = author==='all'||l.autor===author;
    const matchesGenre = genre==='all'||l.genero===genre;
    return matchesTerm && matchesAuthor && matchesGenre;
  });
  renderLibrary(filtered);
}

searchInput.addEventListener('input', filterLibrary);
searchBtn.addEventListener('click', filterLibrary);
authorSelect.addEventListener('change', filterLibrary);
genreSelect.addEventListener('change', filterLibrary);

populateFilters();
renderLibrary();
</script>

</body>
</html>
