<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Biblioteca Literaria - Slider Mejorado</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
  background: linear-gradient(135deg, #0a1a2e 0%, #061120 100%);
  color: #fff;
  min-height: 100vh;
  overflow-x: hidden;
  padding-bottom: 40px;
}

/* CABECERA */
.header-container { margin-bottom: 40px; }
.top-menu {
  display: flex; justify-content: space-between; align-items: center;
  padding: 15px 30px;
  background: linear-gradient(to right, #0a1a2e 0%, #061120 100%);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}
.logo { display: flex; align-items: center; gap: 10px; }
.logo h1 { color: #f1c40f; font-size: 1.8rem; }
.menu-icons { display: flex; gap: 20px; }
.menu-icon { color: #f1c40f; font-size: 1.5rem; cursor: pointer; }
.menu-icon:hover { color: #fff; transform: translateY(-3px); }

/* SLIDER */
.slider-container { position: relative; width: 100%; height: 400px; overflow: hidden; }
.slide {
  position: absolute; width: 100%; height: 100%; opacity: 0;
  transition: opacity 1.2s ease-in-out; z-index: 1;
}
.slide.active { opacity: 1; z-index: 2; }
.slide img { width: 100%; height: 100%; object-fit: cover; }
.slide-overlay {
  position: absolute; bottom: 0; left: 0; right: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
  padding: 30px;
}
.slide-title { font-size: 2rem; color: #f1c40f; margin-bottom: 10px; }
.slide-description { font-size: 1.1rem; max-width: 600px; }
.slider-nav {
  position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
  display: flex; gap: 10px; z-index: 3;
}
.slider-dot {
  width: 12px; height: 12px; border-radius: 50%;
  background: rgba(255, 255, 255, 0.5); cursor: pointer;
}
.slider-dot.active { background: #f1c40f; transform: scale(1.2); }

/* LIBROS */
.genre-row { margin-bottom: 50px; padding: 0 20px; }
.genre-header {
  display: flex; justify-content: space-between; align-items: center;
  margin: 0 10px 20px 10px; padding-bottom: 10px; border-bottom: 2px solid #f1c40f;
}
.genre-header h2 { font-size: 1.8rem; color: #f1c40f; display: flex; gap: 10px; }
.ver-todo { color: #f1c40f; font-weight: bold; text-decoration: none; }
.books-row {
  display: flex; overflow-x: auto; gap: 20px; padding: 15px;
  scroll-behavior: smooth;
}
.books-row::-webkit-scrollbar { height: 8px; }
.books-row::-webkit-scrollbar-thumb { background: #f1c40f; border-radius: 4px; }
.card {
  flex: 0 0 auto; width: 200px; height: 320px; border-radius: 12px;
  overflow: hidden; cursor: pointer; text-decoration: none; color: inherit;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); transition: all 0.3s ease;
}
.card img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
.card-overlay {
  position: absolute; bottom: 0; left: 0; right: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
  padding: 20px 15px 15px; transform: translateY(100%);
  transition: transform 0.3s ease;
}
.card-title { font-size: 16px; font-weight: bold; color: #f1c40f; }
.card-author { font-size: 14px; }
.card:hover { transform: translateY(-10px) scale(1.03); }
.card:hover img { transform: scale(1.1); }
.card:hover .card-overlay { transform: translateY(0); }

/* MODAL CORREGIDA */
.modal {
  display: none; position: fixed; z-index: 1000; left: 0; top: 0;
  width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.95);
  opacity: 0; transition: opacity 0.3s ease;
}
.modal.show {
  display: flex; opacity: 1; align-items: center; justify-content: center;
}
.modal-container {
  display: flex; flex-direction: column; width: 100vw; height: 100vh;
  background: #0a1a2e; color: #fff;
}
.modal-header {
  padding: 20px 30px; background: #061120;
  display: flex; justify-content: space-between; align-items: center;
  border-bottom: 1px solid #1a2b4a; flex-shrink: 0;
}
.modal-title { font-size: 1.8rem; color: #f1c40f; max-width: 80%; }
.close { font-size: 30px; color: #f1c40f; cursor: pointer; background: none; border: none; }
.close:hover { transform: rotate(90deg); }
.modal-content {
  display: flex; flex: 1; overflow: hidden; height: calc(100vh - 80px);
}
.modal-left {
  flex: 0 0 320px; padding: 25px; display: flex; flex-direction: column; align-items: center;
  background: #061120; border-right: 1px solid #1a2b4a;
}
.modal-left img {
  width: 100%; max-width: 200px; border-radius: 8px;
  margin-bottom: 20px;
}
.modal-details { width: 100%; }
.modal-right {
  flex: 1; display: flex; flex-direction: column;
  overflow-y: auto; padding: 25px; scrollbar-width: none;
}
.modal-right::-webkit-scrollbar { display: none; }
.modal-subtitle { font-size: 1.2rem; color: #e67e22; margin-bottom: 20px; }
.modal-description-container {
  flex: 1; overflow-y: auto; padding-right: 10px; scrollbar-width: none;
}
.modal-description-container::-webkit-scrollbar { display: none; }
.video-container { margin: 15px 0; border-radius: 8px; overflow: hidden; max-height: 220px; }
.video-container iframe { width: 100%; height: 100%; border: none; }

/* RESPONSIVE */
@media (max-width: 1199px) {
  .modal { overflow-y: auto; scrollbar-width: none; }
  .modal::-webkit-scrollbar { display: none; }
  .modal-content { flex-direction: column; height: auto; }
  .modal-left {
    flex: unset; width: 100%; border-right: none; border-bottom: 1px solid #1a2b4a;
    padding: 15px; text-align: center;
  }
  .modal-left img { max-width: 150px; margin: 0 auto 15px; }
  .modal-right { flex: unset; width: 100%; overflow: visible; padding: 15px; }
  .modal-title { font-size: 1.4rem; }
  .modal-subtitle { font-size: 1.1rem; }
  .video-container iframe { height: 180px; }
}
</style>
</head>
<body>

<!-- CABECERA + SLIDER -->
<div class="header-container">
  <div class="top-menu">
    <div class="logo"><i class="fas fa-book-reader"></i><h1>Biblioteca Premium</h1></div>
    <div class="menu-icons">
      <div class="menu-icon"><i class="fas fa-home"></i></div>
      <div class="menu-icon"><i class="fas fa-book-open"></i></div>
      <div class="menu-icon"><i class="fas fa-heart"></i></div>
      <div class="menu-icon"><i class="fas fa-search"></i></div>
      <div class="menu-icon"><i class="fas fa-user"></i></div>
    </div>
  </div>
  <div class="slider-container">
    <div class="slide active">
      <img src="https://images.pexels.com/photos/1370298/pexels-photo-1370298.jpeg" alt="Libro 1">
      <div class="slide-overlay"><h3 class="slide-title">Descubre Nuevos Mundos</h3><p class="slide-description">Explora nuestra colección de bestsellers y libros exclusivos.</p></div>
    </div>
    <div class="slide">
      <img src="https://images.pexels.com/photos/1926988/pexels-photo-1926988.jpeg" alt="Libro 2">
      <div class="slide-overlay"><h3 class="slide-title">Clásicos Atemporales</h3><p class="slide-description">Revive las obras maestras que han marcado generaciones.</p></div>
    </div>
    <div class="slide">
      <img src="https://images.pexels.com/photos/459791/pexels-photo-459791.jpeg" alt="Libro 3">
      <div class="slide-overlay"><h3 class="slide-title">Fantasía y Aventura</h3><p class="slide-description">Sumérgete en universos épicos llenos de magia.</p></div>
    </div>
    <div class="slider-nav">
      <div class="slider-dot active" data-slide="0"></div>
      <div class="slider-dot" data-slide="1"></div>
      <div class="slider-dot" data-slide="2"></div>
    </div>
  </div>
</div>

<div id="library"></div>

<!-- MODAL -->
<div id="bookModal" class="modal">
  <div class="modal-container">
    <div class="modal-header">
      <h2 class="modal-title" id="modal-title">Título</h2>
      <button class="close">&times;</button>
    </div>
    <div class="modal-content">
      <div class="modal-left">
        <img id="modal-cover" src="" alt="Portada">
        <div class="modal-details">
          <div class="modal-rating" id="modal-rating"></div>
          <div class="detail-item"><span>Páginas:</span><span id="modal-pages"></span></div>
          <div class="detail-item"><span>ISBN:</span><span id="modal-isbn"></span></div>
          <div class="detail-item"><span>Idioma:</span><span id="modal-language"></span></div>
          <div class="detail-item"><span>Editorial:</span><span id="modal-publisher"></span></div>
          <div class="detail-item"><span>Año:</span><span id="modal-year"></span></div>
          <div class="detail-item"><span>Género:</span><span id="modal-genre"></span></div>
        </div>
      </div>
      <div class="modal-right">
        <h4 class="modal-subtitle" id="modal-subtitle"></h4>
        <div class="modal-description-container"><p class="modal-description" id="modal-description"></p></div>
        <div class="video-container"><iframe id="modal-video" src="" allowfullscreen></iframe></div>
      </div>
    </div>
  </div>
</div>

<script>
// Libros iniciales
const libros = [
  {
    titulo: "Cien años de soledad", autor: "Gabriel García Márquez",
    subtitulo: "Una obra maestra del realismo mágico", genero: "Realismo Mágico",
    portada: "https://images.pexels.com/photos/1926988/pexels-photo-1926988.jpeg",
    descripcion: "Historia de la familia Buendía a lo largo de generaciones en Macondo...",
    paginas: 471, isbn: "978-8439721102", idioma: "Español", editorial: "Sudamericana",
    año: 1967, rating: 4.8, video: "https://www.youtube.com/embed/CTdm5tTu6pE"
  },
  {
    titulo: "1984", autor: "George Orwell",
    subtitulo: "Una visión distópica del futuro", genero: "Distopía",
    portada: "https://images.pexels.com/photos/1370298/pexels-photo-1370298.jpeg",
    descripcion: "Introduce el concepto del Gran Hermano, líder omnipresente...",
    paginas: 328, isbn: "978-0451524935", idioma: "Español", editorial: "Debolsillo",
    año: 1949, rating: 4.7, video: "https://www.youtube.com/embed/CTdm5tTu6pE"
  },
  {
    titulo: "El Señor de los Anillos", autor: "J.R.R. Tolkien",
    subtitulo: "La comunidad del anillo", genero: "Fantasía Épica",
    portada: "https://images.pexels.com/photos/459791/pexels-photo-459791.jpeg",
    descripcion: "En la Tierra Media, Sauron forjó los Anillos del Poder...",
    paginas: 576, isbn: "978-8445000660", idioma: "Español", editorial: "Minotauro",
    año: 1954, rating: 4.9, video: "https://www.youtube.com/embed/CTdm5tTu6pE"
  }
];
const categorias = ["Realismo Mágico", "Distopía", "Fantasía Épica"];
const iconosCategorias = {
  "Realismo Mágico": "fas fa-magic", "Distopía": "fas fa-city", "Fantasía Épica": "fas fa-dragon"
};
// Añadir libros clonados
categorias.forEach(cat => {
  for (let i = 2; i <= 4; i++) {
    const base = libros.find(l => l.genero === cat);
    if (base) {
      libros.push({...base, titulo: `${cat} Libro ${i}`, autor: `Autor ${i}`, año: 2000+i});
    }
  }
});
// Render biblioteca
const libraryContainer = document.getElementById('library');
function renderLibrary() {
  libraryContainer.innerHTML = '';
  const porGenero = {};
  libros.forEach(l => { if (!porGenero[l.genero]) porGenero[l.genero] = []; porGenero[l.genero].push(l); });
  Object.keys(porGenero).forEach(cat => {
    const rowDiv = document.createElement('div'); rowDiv.className = 'genre-row';
    const header = document.createElement('div'); header.className = 'genre-header';
    header.innerHTML = `<h2><i class="${iconosCategorias[cat]}"></i> ${cat}</h2>`;
    rowDiv.appendChild(header);
    const booksRow = document.createElement('div'); booksRow.className = 'books-row';
    porGenero[cat].forEach(libro => {
      const card = document.createElement('a'); card.href="#"; card.className="card";
      card.innerHTML = `<img src="${libro.portada}"><div class="card-overlay"><div class="card-title">${libro.titulo}</div><div class="card-author">${libro.autor}</div></div>`;
      card.addEventListener('click', e => { e.preventDefault(); openBookModal(libro); });
      booksRow.appendChild(card);
    });
    rowDiv.appendChild(booksRow); libraryContainer.appendChild(rowDiv);
  });
}
// Modal
const modal = document.getElementById('bookModal');
const modalCover=document.getElementById('modal-cover'), modalTitle=document.getElementById('modal-title'),
modalSubtitle=document.getElementById('modal-subtitle'), modalDescription=document.getElementById('modal-description'),
modalPages=document.getElementById('modal-pages'), modalIsbn=document.getElementById('modal-isbn'),
modalLanguage=document.getElementById('modal-language'), modalPublisher=document.getElementById('modal-publisher'),
modalYear=document.getElementById('modal-year'), modalGenre=document.getElementById('modal-genre'),
modalVideo=document.getElementById('modal-video'), modalRating=document.getElementById('modal-rating');
function openBookModal(libro) {
  modal.classList.add('show');
  modalCover.src=libro.portada; modalTitle.innerText=libro.titulo;
  modalSubtitle.innerText=`${libro.subtitulo} - ${libro.autor}`;
  modalDescription.innerText=libro.descripcion; modalPages.innerText=libro.paginas;
  modalIsbn.innerText=libro.isbn; modalLanguage.innerText=libro.idioma;
  modalPublisher.innerText=libro.editorial; modalYear.innerText=libro.año;
  modalGenre.innerText=libro.genero; modalVideo.src=libro.video;
  modalRating.innerHTML="⭐".repeat(Math.round(libro.rating)) + ` (${libro.rating})`;
}
document.querySelector('.close').addEventListener('click',()=>{modal.classList.remove('show'); modalVideo.src="";});
window.addEventListener('click',e=>{if(e.target==modal){modal.classList.remove('show'); modalVideo.src="";}});
// Slider
const slides=document.querySelectorAll('.slide'), dots=document.querySelectorAll('.slider-dot'); let currentSlide=0;
function showSlide(i){slides.forEach((s,idx)=>{s.classList.remove('active');dots[idx].classList.remove('active');});
slides[i].classList.add('active');dots[i].classList.add('active');currentSlide=i;}
dots.forEach(d=>{d.addEventListener('click',()=>showSlide(parseInt(d.dataset.slide)));});
setInterval(()=>showSlide((currentSlide+1)%slides.length),7000);
renderLibrary();
</script>
</body>
</html>
